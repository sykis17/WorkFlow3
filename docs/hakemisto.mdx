import React from 'react';
import Link from '@docusaurus/Link';
import useDocusaurusContext from '@docusaurus/useDocusaurusContext';
import useBaseUrl from '@docusaurus/useBaseUrl';

export const PortfolionHakemisto = () => {
  const { i18n } = useDocusaurusContext();
  const isEn = i18n.currentLocale === 'en';

  const sivut = [
    { polku: '/', nimi: isEn ? 'Home' : 'Etusivu', muokattu: '06.01.2026', tila: 'Valmis', tyyppi: isEn ? 'Intro' : 'Esittely' },
    { polku: '/lampotila', nimi: isEn ? 'Temperature' : 'Lämpötila', muokattu: '09.01.2026', tila: 'Valmis', tyyppi: isEn ? 'Tool' : 'Työkalu' },
    { polku: '/koodari', nimi: isEn ? 'Sandbox' : 'Koodihiekkalaatikko', muokattu: '05.01.2026', tila: 'Beta', tyyppi: 'Demo' },
    { polku: '/tilastot', nimi: isEn ? 'Emissions' : 'Päästötilastot', muokattu: '04.01.2026', tila: 'Voimassa', tyyppi: isEn ? 'Visualization' : 'Visualisointi' },
    { polku: '/simulaattori', nimi: isEn ? 'Simulator' : 'Säädös-simulaattori', muokattu: '06.01.2026', tila: 'Valmis', tyyppi: 'Simulaattori' },
    { polku: '/simulaattori', nimi: isEn ? 'Simulator' : 'Säädös-simulaattori', muokattu: '06.01.2026', tila: 'Valmis', tyyppi: 'Simulaattori' },
  { 
  polku: '/lampotila#Aikatyokalut', 
  nimi: isEn ? 'Time Tools' : 'Aikalaskimet', // Korjattu isEn ja nimi
  muokattu: '09.01.2026', 
  tila: 'Valmis', 
  tyyppi: isEn ? 'Tool' : 'Työkalu' 
},,
  ];

  const getStatusBadge = (status) => {
    const styles = {
      'Valmis': 'bg-emerald-100 text-emerald-700 border-emerald-200',
      'Voimassa': 'bg-blue-100 text-blue-700 border-blue-200',
      'Beta': 'bg-amber-100 text-amber-700 border-amber-200',
      'Päivitetty': 'bg-slate-100 text-slate-700 border-slate-200'
    };
    return styles[status] || 'bg-slate-100 text-slate-600';
  };

  return (
    <div className="my-12 overflow-hidden rounded-3xl border border-slate-200 bg-black shadow-sm">
      <table className="w-full border-collapse text-left">
        <thead>
          <tr className="bg-slate-50 border-b border-slate-200">
            <th className="p-4 text-xs font-black uppercase tracking-widest text-slate-500">Sivun nimi</th>
            <th className="p-4 text-xs font-black uppercase tracking-widest text-slate-500">Tyyppi</th>
            <th className="p-4 text-xs font-black uppercase tracking-widest text-slate-500">Muokattu</th>
            <th className="p-4 text-xs font-black uppercase tracking-widest text-slate-500">Status</th>
          </tr>
        </thead>
        <tbody className="divide-y divide-slate-100">
          {sivut.map((sivu, idx) => (
            <tr key={idx} className="hover:bg-slate-50 transition-colors group">
              <td className="p-4">
                <Link to={useBaseUrl(sivu.polku)} className="text-slate-950 font-bold no-underline group-hover:text-blue-700 flex items-center gap-2">
                  <span className="w-1.5 h-1.5 rounded-full bg-slate-300 group-hover:bg-blue-500"></span>
                  {sivu.nimi}
                </Link>
              </td>
              <td className="p-4 text-sm text-slate-600 font-medium">{sivu.tyyppi}</td>
              <td className="p-4 text-sm text-slate-400">{sivu.muokattu}</td>
              <td className="p-4">
                <span className={`px-3 py-1 rounded-full text-[10px] font-black uppercase border ${getStatusBadge(sivu.tila)}`}>
                  {sivu.tila}
                </span>
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

{/* Käytetään sinun suosikkiotsikkoasi sivun alussa */}
<div className="my-10">
  <p className="text-sm font-bold text-slate-500 mb-2 border-b border-slate-200 pb-2 w-fit pr-12 uppercase tracking-tighter">
    Index & Governance
  </p>
  <h1 className="m-0 text-5xl md:text-6xl font-black text-slate-950 tracking-tighter leading-[0.9]">
    Portfolion <span className="text-blue-700">sisällysluettelo</span>
  </h1>
</div>

<PortfolionHakemisto />